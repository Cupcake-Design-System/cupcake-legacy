/// Checks the lightness of `$color`, and if it passes the `$threshold` of lightness, it returns the `$yes` color. Otherwise, it returns the `$no` color. Use this function to dynamically output a foreground color based on a given background color.

@function foreground($color, $yes: $black, $no: $white, $threshold: 60%) {
  @if $color == transparent {
    $color: $body-background;
  }

  @if (lightness($color) > $threshold) {
    @return $yes;
  }

  @else {
    @return $no;
  }
}

/// Scales a color to be lighter if it's light, or darker if it's dark. Use this function to tint a color appropriate to its lightness.

@function smart-scale($color, $scale: 5%, $threshold: 40%) {
  @if lightness($color) > $threshold {
    $scale: -$scale;
  }

  @return scale-color($color, $lightness: $scale);
}

/// This function is used to get the primary palette
/// color: color(primary)

@function color($key) {
  @if map-has-key($ipreo-palette, $key) {
    @return map-get($ipreo-palette, $key);
  }

  @return null;
}
